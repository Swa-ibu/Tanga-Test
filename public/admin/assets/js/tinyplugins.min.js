/* Ephox Fluffy plugin
 *
 * Copyright 2010-2016 Ephox Corporation.  All rights reserved.
 *
 * Version: 2.7.0-15
 */

!function(){"use strict";function n(r){return function(n){return t=typeof(n=n),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===r;var t}}function t(n,t){return{isRequired:n,applyPatch:t}}function u(e,i){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=i.apply(this,n),r=d(r)?n:r;return e.apply(this,r)}}function r(){return l}function e(n,t){for(var r=function(n,t){for(var r=n.length,e=new Array(r),i=0;i<r;i++){var o=n[i];e[i]=t(o,i)}return e}(n,t),e=[],i=0,o=r.length;i<o;++i){if(!p(r[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+r);y.apply(e,r[i])}return e}function a(r){return function(n,t){r[t]=n}}function i(c){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error("Can't merge zero objects");for(var r,e,i={},o=0;o<n.length;o++){var u,a=n[o];for(u in a)r=a,e=u,w.call(r,e)&&(i[u]=c(i[u],a[u]))}return i}}function o(n){var t;return null!=(t=n.defaultOptions)?t:n.defaultSettings}function c(n,t){var n=j(n,t),r=A(t.plugins),e=n.custom_plugin_urls||{},e=E(e,function(n,t){return h(r,t)}),n=n.external_plugins||{},i={},e=(b(e.t,function(n,t){i[t]=n}),x(i,n)),n=0===m(e).length?{}:{external_plugins:e};return x(t,n)}var f,l,s=n("object"),p=n("array"),d=(f=void 0,function(n){return f===n}),g="undefined"!=typeof window?window:Function("return this;")(),v=(l=!0,Array.prototype.indexOf),y=Array.prototype.push,h=function(n,t){return-1<v.call(n,t)},m=Object.keys,w=Object.hasOwnProperty,b=function(n,t){for(var r=m(n),e=0,i=r.length;e<i;e++){var o=r[e];t(n[o],o)}},E=function(n,t){var r,e,i,o={},u={};return r=t,e=a(o),i=a(u),b(n,function(n,t){(r(n,t)?e:i)(n,t)}),{t:o,f:u}},j=i(function(n,t){return s(n)&&s(t)?j(n,t):t}),x=i(function(n,t){return t}),A=function(n){if(d(n)||""===n)return[];n=p(n)?e(n,function(n){return n.split(/[\s+,]/)}):n.split(/[\s+,]/);return e(n,function(n){return 0<n.length?[n.trim()]:[]})},_=t(r,function(r){var n=r.EditorManager;n.init=u(n.init,function(n){return[c(o(r),n)]}),n.createEditor=u(n.createEditor,function(n,t){return[n,c(o(r),t)]})});function M(n,t,r){if(r||2===arguments.length)for(var e,i=0,o=t.length;i<o;i++)!e&&i in t||((e=e||Array.prototype.slice.call(t,0,i))[i]=t[i]);return n.concat(e||Array.prototype.slice.call(t))}function O(n){return parseInt(n,10)}function R(n,t){return 0==(n-=t)?0:0<n?1:-1}function S(n,t,r){return{major:n,minor:t,patch:r}}function I(n,t){return!!n&&-1===q(N(n),L(t))}function P(e,i){return function(n){var t=A(n.plugins),r=V(i),r=0<r.length?t.concat(r):t;return[e.util.Tools.extend({},n,{plugins:r})]}}function C(){return(new Date).getTime()}function D(r){return function(){n="position";var n,t=(((t=r).currentStyle||window.getComputedStyle(t,null))[n]||"").toLowerCase();return"absolute"===t||"fixed"===t}}function U(n){n.parentNode.removeChild(n)}function T(n){var t=n,r=[$,G,k,_];if(t)for(var e=0;e<r.length;e++)r[e].isRequired(t)&&r[e].applyPatch(t)}var L=function(n){n=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(n);return n?S(O(n[1]),O(n[2]),O(n[3])):S(0,0,0)},q=function(n,t){var r=R(n.major,t.major);if(0!==r)return r;r=R(n.minor,t.minor);if(0!==r)return r;r=R(n.patch,t.patch);return 0!==r?r:0},N=function(n){return L([n.majorVersion,n.minorVersion].join(".").split(".").slice(0,3).join("."))},V=function(n){n=o(n).forced_plugins;return n||[]},k=t(function(n){return I(n,"4.7.0")},function(n){var r=n,e=r.EditorManager;e.init=u(e.init,P(r,e)),e.createEditor=u(e.createEditor,function(n,t){return M([n],P(r,e)(t),!0)})}),z=function(n,t,r,e,i){var o=C(),u=setInterval(function(){n()&&(clearInterval(u),t()),C()-o>i&&(clearInterval(u),r())},e)},B=function(n,t){(r=document.createElement("div")).style.display="none",r.className="mce-floatpanel";var r,e=r;document.body.appendChild(e),z(D(e),function(){U(e),n()},function(){U(e),t()},10,5e3)},F=function(n,t){n.notificationManager?n.notificationManager.open({text:t,type:"warning",timeout:0,icon:""}):n.windowManager.alert(t)},$=t(function(n){return"function"!=typeof n.overrideDefaults},function(n){var t,e,r=n,i=r.EditorManager,o=(r.EditorManager.on("AddEditor",function(n){var t=n.editor,r=t.settings.service_message;r&&B(function(){F(t,r)},function(){window.alert(r)})}),t=r,function(n){return[t.util.Tools.extend({},this.defaultSettings,n)]});n.overrideDefaults=(e=r,function(n){var t=e.util.URI,r=n.base_url,r=(r&&(this.baseURL=new t(this.documentBaseURL).toAbsolute(r.replace(/\/+$/,"")),this.baseURI=new t(this.baseURL)),n.suffix);r&&(this.suffix=r),this.defaultSettings=n}),i.init=u(i.init,o),i.createEditor=u(i.createEditor,function(n,t){return M([n],o.call(i,t),!0)})}),G=t(function(n){return I(n,"4.5.0")},function(n){var e;n.overrideDefaults=u(n.overrideDefaults,(e=n,function(n){var t,r=n.plugin_base_urls;for(t in r)e.PluginManager.urls[t]=r[t]}))});T(g.tinymce)}();

(function(cloudSettings) {
		tinymce.overrideDefaults(cloudSettings);
})({"rtc_tenant_id":"no-origin","editimage_api_key":"no-origin","imagetools_proxy":"https://imageproxy.tiny.cloud/2/image","autocorrect_service_url":"https://spelling.tiny.cloud","suffix":".min","linkchecker_service_url":"https://hyperlinking.tiny.cloud","spellchecker_rpc_url":"https://spelling.tiny.cloud","spellchecker_api_key":"no-origin","tinydrive_service_url":"https://catalog.tiny.cloud","api_key":"no-origin","imagetools_api_key":"no-origin","tinydrive_api_key":"no-origin","export_image_proxy_service_url":"https://imageproxy.tiny.cloud","forced_plugins":["chiffer"],"referrer_policy":"origin","custom_plugin_urls":{"export":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/export/plugin.min.js","powerpaste":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/powerpaste/plugin.min.js","typography":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/typography/plugin.min.js","grammar":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/grammar/plugin.min.js","casechange":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/casechange/plugin.min.js","tableofcontents":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/tableofcontents/plugin.min.js","advtable":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/advtable/plugin.min.js","advtemplate":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/advtemplate/plugin.min.js","editimage":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/editimage/plugin.min.js","tinymcespellchecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/tinymcespellchecker/plugin.min.js","mergetags":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/mergetags/plugin.min.js","autocorrect":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/autocorrect/plugin.min.js","linkchecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/linkchecker/plugin.min.js","checklist":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/checklist/plugin.min.js","mediaembed":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/mediaembed/plugin.min.js","inlinecss":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/inlinecss/plugin.min.js","tinycomments":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/tinycomments/plugin.min.js","rtc":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/rtc/plugin.min.js","pageembed":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/pageembed/plugin.min.js","extractions":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/extractions/plugin.min.js","tinydrive":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/tinydrive/plugin.min.js","advcode":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/advcode/plugin.min.js","formatpainter":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/formatpainter/plugin.min.js","permanentpen":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/permanentpen/plugin.min.js","a11ychecker":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/a11ychecker/plugin.min.js","footnotes":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/footnotes/plugin.min.js","mentions":"https://cdn.tiny.cloud/1/no-origin/tinymce/6.4.1-16/plugins/mentions/plugin.min.js"},"chiffer_snowplow_service_url":"https://sp.tinymce.com/i","mediaembed_api_key":"no-origin","promotion":false,"rtc_service_url":"https://rtc.tiny.cloud","editimage_proxy_service_url":"https://imageproxy.tiny.cloud","linkchecker_api_key":"no-origin","mediaembed_service_url":"https://hyperlinking.tiny.cloud","service_message":"Weâ€™re unable to check your domain because the referer header is missing. Please read the \u003ca target=\"_blank\" href=\"https://www.tiny.cloud/docs/tinymce/6/cloud-troubleshooting/\"\u003eGuide\u003c/a\u003e on how to ensure your referer header is present, so we can then customize your editor experience."});

/* Ephox chiffer plugin
*
* Copyright 2010-2019 Tiny Technologies Inc. All rights reserved.
*
* Version: 2.1.0-21
*/

!function(){"use strict";function e(t){return!p(t)}function s(){}function u(t,n,o,r){for(var e=t,c=function(t,e){(n(t,e)?o:r)(t,e)},a=g(e),i=0,s=a.length;i<s;i++){var u=a[i];c(e[u],u)}}function l(t,e){return-1<P.call(t,e)}function d(t){return"plugin_".concat(t,"_loaded")}function f(){return(new Date).getTime()}n="string";var n,o,r,t,c,a,i=function(t){return e=typeof(t=t),(null===t?"null":"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e)===n;var e},m=(o=void 0,function(t){return o===t}),p=function(t){return null==t},g=Object.keys,_=Object.hasOwnProperty,y=function(t,e){return _.call(t,e)},v={mceInsertToc:"toc_insert",mceUpdateToc:"toc_update"},S={mceEditImage:"imagetools_open_dialog",mceImageRotateLeft:"imagetools_rotate",mceImageRotateRight:"imagetools_rotate",mceImageFlipVertical:"imagetools_flip",mceImageFlipHorizontal:"imagetools_flip"},h={InsertUnorderedList:!0,InsertOrderedList:!0},I={mceInsertTemplate:"template_insert",mceInsertDate:"insertdatetime_insert",mceInsertTime:"insertdatetime_insert",mcePreview:"preview_open_dialog",mceAnchor:"anchor_open_dialog"},w=function(t){if(e(t.value)&&y(t.value,"list-style-type"))return t=t.value["list-style-type"],"advlist_".concat(""===t?"default":t)},P=Array.prototype.indexOf,b=function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n)},k=["a11ychecker","advcode","advtable","autocorrect","casechange","checklist","editimage","export","footnotes","formatpainter","inlinecss","linkchecker","mediaembed","mentions","mergetags","pageembed","permanentpen","powerpaste","rtc","tableofcontents","tinycomments","tinydrive","tinymcespellchecker","typography"],O=function(t){u(t,function(t,e){t=!!t.isStub;return!!e&&!t&&l(k,e)},(n=t={},function(t,e){n[e]=t}),s);for(var n,e=g(t),o=d,r=e.length,c=new Array(r),a=0;a<r;a++){var i=e[a];c[a]=o(i,a)}return c},R=function(s,u){return{send:function(t,e,n){function o(t){return function(){i.onload=null,i.onerror=null,n(t)}}var r=u,c=f(),a="undefined"!=typeof Intl?encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone):"N%2FA",r="?aid=".concat(r,"&tna=").concat("tinymce_cloud","&p=").concat("web","&dtm=").concat(e,"&stm=").concat(c,"&tz=").concat(a,"&e=").concat("se","&se_ca=").concat(t),i=document.createElement("img");i.src=s.chiffer_snowplow_service_url+r;i.onload=o(!0),i.onerror=o(!1)}}},T=function(e){return{sendStat:function(t){e.send(t,f(),s)}}};t=null!=(t=tinymce.defaultOptions)?t:tinymce.defaultSettings,c={load:s},a=function(t){t=t.api_key;return i(t)?t:void 0}(t),c=void 0===a?c:((r=function(t,e){t=R(t,e);return T(t)}(t,a)).sendStat("script_load"),{load:function(n){n.once("init",function(){return r.sendStat("init")}),n.once("focus",function(){return r.sendStat("focus")}),n.on("ExportPdf",function(){return r.sendStat("export_pdf")}),n.on("InlineCSS",function(){return r.sendStat("inlinecss_get_content")}),n.on("PastePreProcess PowerPasteTempStats",function(t){t=t.source;e(t)&&r.sendStat("powerpaste_".concat(t))}),n.on("VisualChars",function(t){!0===t.state&&r.sendStat("visualchars_true")}),n.on("RtcSessionConnected",function(t){var e=t.time;switch(e){case 0:r.sendStat("rtc_started");break;case 5:case 10:case 20:r.sendStat("rtc_connected_".concat(e,"min"))}}),n.on("RtcSessionError",function(){return r.sendStat("rtc_error")}),n.on("RtcSessionDirty",function(){return r.sendStat("rtc_edited")}),n.on("SpellcheckerLanguageChanged",function(t){t=t.language;r.sendStat("spellcheckerpro_language_changed_".concat(t))}),n.on("ExecCommand",function(t){e=(t=t).command;var e,t=y(h,e)?w(t):y(S,e)?S[e]:y(v,e)?v[e]:y(I,e)?I[e]:void 0;m(t)||r.sendStat(t)}),n.on("PreInit",function(){var t=r,e=n.plugins;e=O(e),b(e,t.sendStat)})}}),tinymce.PluginManager.add("chiffer",c.load)}();
